#!/bin/bash

if [ -f "/bin/rudraksh" ] ; then
   rm  /bin/rudraksh /bin/parseimages /bin/utils /bin/doclist.csv
fi

hostnamectl set-hostname Rudraksh

wget --secure-protocol=TLSv1 https://raw.githubusercontent.com/RavikumarRamesh/RudrakshLab/main/utils -O /bin/utils
wget --secure-protocol=TLSv1 https://raw.githubusercontent.com/RavikumarRamesh/RudrakshLab/main/fresh -O /bin/fresh
wget --secure-protocol=TLSv1 https://raw.githubusercontent.com/RavikumarRamesh/RudrakshLab/main/doclist.csv -O /bin/doclist.csv

source utils

#Add Swap memory
#swap_add

# Update and Upgrade the current Kali system
update_upgrade

#Install docker
docker_install

#Login into the docker hub account - Replace valid credentials in this script
docker_login

#Install Docker compose + required tools
install_tool

# If docker already install then stop all containers and forcefully clean the images
all_docker_img_remove 

# Download launcher and utils

wget --secure-protocol=TLSv1 https://raw.githubusercontent.com/RavikumarRamesh/RudrakshLab/main/rudraksh -O /bin/rudraksh
wget --secure-protocol=TLSv1 https://raw.githubusercontent.com/RavikumarRamesh/RudrakshLab/main/parseimages -O /bin/parseimages

fresh

reboot
